<div class="main-middle"><p id="archive">미나세 이노리 아카이브</p></div>
<div class="main-list">
<a href="archive/pick-up-girls.html"><ul class="list-select"><li class="list-img"><img src="" /></li><li class="list-title"><p>水瀬いのりと大西沙織の<br>Pick Up Girls!</p></li></ul></a>
<a href="archive/edit.html"><ul class="list-select"><li class="list-img"><img src="" /></li><li class="list-title"><p>미나세 이노리<br>라이브 편집</p></li></ul></a>
</div>
<div class="main-middle"><p id="live">미나세 이노리 라이브 투어</p></div>
<div class="main-list">
<a href="live/travel-record.html"><ul class="list-select"><li class="list-img"><img src="" /></li><li class="list-title"><p>미나세 이노리 LIVE TOUR<br>Travel Record</p></li></ul></a>
<a href="live/heart-bookmark.html"><ul class="list-select"><li class="list-img"><img src="" /></li><li class="list-title"><p>미나세 이노리 LIVE TOUR<br>heart bookmark</p></li></ul></a>
</div>
현재 html 내 구성이 이렇게 되어있는데 여기서
<a href="${item.u}">
<ul class="list-select">
<li class="list-img"><img src="${item.i}" loading="lazy"/></li>
<li class="list-title"><p>${item.t}</p>
</li></ul></a>
구성을 json을 이용하여 데이터를 배치한 후 js를 이용하여
async function loadContentByFilename() {
try {
const fullPath = window.location.pathname;
const fileName = fullPath.substring(fullPath.lastIndexOf('/') + 1);
const pageKey = fileName.split('.')[0];

const response = await fetch('_data.json');
const data = await response.json();

const listData = data[pageKey];
if (!listData) {
console.error("매칭되는 데이터가 없습니다.");
return;
}

const container = document.querySelector('.main-playlist');
container.innerHTML = listData.map(item => `

`).join('');

} catch (error) {
console.error("로딩 실패:", error);
}
}

window.addEventListener('DOMContentLoaded', () => {
loadContentByFilename();
setupPlaylistClickHandler();
});

function setupPlaylistClickHandler() {
const container = document.querySelector('.main-playlist');
let selectedItem = null;

container.addEventListener('click', function(e) {
const clickedItem = e.target.closest('.playlist-main');

if (clickedItem) {
if (selectedItem && selectedItem !== clickedItem) {
selectedItem.classList.remove('selected');
}
clickedItem.classList.add('selected');
selectedItem = clickedItem;
}
});
}
이런 형식으로 만들고 싶은데 여기서 다른점은 fetch('_data.json')부분이 하나만 있는것이 아니라
한 html페이지 안에 여러개가 있다보니(archive.json, live.json) 저 부분은 어떻게 수정해야할지 모르겠어
또 <div class="main-middle">부분도 여러개가 있는데 이 부분은 나중에 검색기능을 사용할 때 단순히 제거되었다가
검색을 취소하면 다시 나타나는 방식으로 할 거야

현재 구현할 기능들은 json과 js을 이용한 데이터 불러오는 기능과
그 json을 이용하여 검색결과를 나타내는데 기존의 불러온 데이터들을 임시로 지운 다음, 검색결과를 지우게 되는 경우 다시 원복하는 형식으로 구성을 할 거야



결과적으로 내가 html에서 보고싶은 결과물은
<div class="main-middle"><p id="archive">미나세 이노리 아카이브</p></div>
<div class="main-list">
<script src="_data/archive.js"></script>
</div>
<div class="main-middle"><p id="live">미나세 이노리 라이브 투어</p></div>
<div class="main-list">
<script src="_data/live.js"></script>
</div>
저런 형식이고,
_data/폴더 내에는 archive.json, archive.js, live.json, live.js 으로 구성하고 싶어